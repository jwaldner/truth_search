<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Haggai</title>
<link rel='stylesheet' href='../../style.css'>
<style>
body, p { margin: 0; padding: 0; line-height: 1.2; }
#sticky-title { position: sticky; top: 0; background-color: white; z-index:ible files1000; padding: 10px; border-bottom: 2px solid #ccc; font-size: 1.5em; text-align: center; display: flex; align-items: center; justify-content: center; gap: 10px; }
button { width: 40px; height: 40px; font-size: 20px; border: none; background-color: #007BFF; color: white; border-radius: 5px; }
input { width: 60px; text-align: center; font-size: 20px; border: 1px solid #ccc; border-radius: 5px; -moz-appearance: textfield; }
input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
</style>
</head>
<body>
<script>const bookId = '37';</script>
<script>const version = 'kjv';</script>
<div id='sticky-title'><a href='/close' style='color: blue; text-decoration: none;'>&#8617;</a><span id='sticky-title-book'>Haggai</span><button id='prevChapter'>-</button><input id='chapterInput' type='number' value='1' min='1' max='2'><button id='nextChapter'>+</button><span style='flex-grow: 1;'>&nbsp;</span><a href='/exit' style='color: red; text-decoration: none;'>x</a></div>
<a href='./36_Zephaniah.html'>Prev: Zephaniah</a><br>
<a href='./38_Zechariah.html'>Next: Zechariah</a>
<h1>Haggai</h1>
<h2 id='chapter_1'>Chapter 1</h2>
<p id='37_01:001' data-selected='false'><strong>1.</strong> In the second year of Darius the king, in the sixth month, in the first day of the month, came the word of the Lord by Haggai the prophet unto Zerubbabel the son of Shealtiel, governor of Judah, and to Joshua the son of Josedech, the high priest, saying,</p>
<p id='37_01:002' data-selected='false'><strong>2.</strong> Thus speaketh the Lord of hosts, saying, This people say, The time is not come, the time that the Lord’s house should be built.</p>
<p id='37_01:003' data-selected='false'><strong>3.</strong> Then came the word of the Lord by Haggai the prophet, saying,</p>
<p id='37_01:004' data-selected='false'><strong>4.</strong> Is it time for you, O ye, to dwell in your cieled houses, and this house lie waste?</p>
<p id='37_01:005' data-selected='false'><strong>5.</strong> Now therefore thus saith the Lord of hosts; Consider your ways.</p>
<p id='37_01:006' data-selected='false'><strong>6.</strong> Ye have sown much, and bring in little; ye eat, but ye have not enough; ye drink, but ye are not filled with drink; ye clothe you, but there is none warm; and he that earneth wages earneth wages to put it into a bag with holes.</p>
<p id='37_01:007' data-selected='false'><strong>7.</strong> Thus saith the Lord of hosts; Consider your ways.</p>
<p id='37_01:008' data-selected='false'><strong>8.</strong> Go up to the mountain, and bring wood, and build the house; and I will take pleasure in it, and I will be glorified, saith the Lord.</p>
<p id='37_01:009' data-selected='false'><strong>9.</strong> Ye looked for much, and, lo, it came to little; and when ye brought it home, I did blow upon it. Why? saith the Lord of hosts. Because of mine house that is waste, and ye run every man unto his own house.</p>
<p id='37_01:010' data-selected='false'><strong>10.</strong> Therefore the heaven over you is stayed from dew, and the earth is stayed from her fruit.</p>
<p id='37_01:011' data-selected='false'><strong>11.</strong> And I called for a drought upon the land, and upon the mountains, and upon the corn, and upon the new wine, and upon the oil, and upon that which the ground bringeth forth, and upon men, and upon cattle, and upon all the labour of the hands.</p>
<p id='37_01:012' data-selected='false'><strong>12.</strong> Then Zerubbabel the son of Shealtiel, and Joshua the son of Josedech, the high priest, with all the remnant of the people, obeyed the voice of the Lord their God, and the words of Haggai the prophet, as the Lord their God had sent him, and the people did fear before the Lord.</p>
<p id='37_01:013' data-selected='false'><strong>13.</strong> Then spake Haggai the Lord’s messenger in the Lord’s message unto the people, saying, I am with you, saith the Lord.</p>
<p id='37_01:014' data-selected='false'><strong>14.</strong> And the Lord stirred up the spirit of Zerubbabel the son of Shealtiel, governor of Judah, and the spirit of Joshua the son of Josedech, the high priest, and the spirit of all the remnant of the people; and they came and did work in the house of the Lord of hosts, their God,</p>
<p id='37_01:015' data-selected='false'><strong>15.</strong> In the four and twentieth day of the sixth month, in the second year of Darius the king.</p>
<h2 id='chapter_2'>Chapter 2</h2>
<p id='37_02:001' data-selected='false'><strong>1.</strong> In the seventh month, in the one and twentieth day of the month, came the word of the Lord by the prophet Haggai, saying,</p>
<p id='37_02:002' data-selected='false'><strong>2.</strong> Speak now to Zerubbabel the son of Shealtiel, governor of Judah, and to Joshua the son of Josedech, the high priest, and to the residue of the people, saying,</p>
<p id='37_02:003' data-selected='false'><strong>3.</strong> Who is left among you that saw this house in her first glory? and how do ye see it now? is it not in your eyes in comparison of it as nothing?</p>
<p id='37_02:004' data-selected='false'><strong>4.</strong> Yet now be strong, O Zerubbabel, saith the Lord; and be strong, O Joshua, son of Josedech, the high priest; and be strong, all ye people of the land, saith the Lord, and work: for I am with you, saith the Lord of hosts:</p>
<p id='37_02:005' data-selected='false'><strong>5.</strong> According to the word that I covenanted with you when ye came out of Egypt, so my spirit remaineth among you: fear ye not.</p>
<p id='37_02:006' data-selected='false'><strong>6.</strong> For thus saith the Lord of hosts; Yet once, it is a little while, and I will shake the heavens, and the earth, and the sea, and the dry land;</p>
<p id='37_02:007' data-selected='false'><strong>7.</strong> And I will shake all nations, and the desire of all nations shall come: and I will fill this house with glory, saith the Lord of hosts.</p>
<p id='37_02:008' data-selected='false'><strong>8.</strong> The silver is mine, and the gold is mine, saith the Lord of hosts.</p>
<p id='37_02:009' data-selected='false'><strong>9.</strong> The glory of this latter house shall be greater than of the former, saith the Lord of hosts: and in this place will I give peace, saith the Lord of hosts.</p>
<p id='37_02:010' data-selected='false'><strong>10.</strong> In the four and twentieth day of the ninth month, in the second year of Darius, came the word of the Lord by Haggai the prophet, saying,</p>
<p id='37_02:011' data-selected='false'><strong>11.</strong> Thus saith the Lord of hosts; Ask now the priests concerning the law, saying,</p>
<p id='37_02:012' data-selected='false'><strong>12.</strong> If one bear holy flesh in the skirt of his garment, and with his skirt do touch bread, or pottage, or wine, or oil, or any meat, shall it be holy? And the priests answered and said, No.</p>
<p id='37_02:013' data-selected='false'><strong>13.</strong> Then said Haggai, If one that is unclean by a dead body touch any of these, shall it be unclean? And the priests answered and said, It shall be unclean.</p>
<p id='37_02:014' data-selected='false'><strong>14.</strong> Then answered Haggai, and said, So is this people, and so is this nation before me, saith the Lord; and so is every work of their hands; and that which they offer there is unclean.</p>
<p id='37_02:015' data-selected='false'><strong>15.</strong> And now, I pray you, consider from this day and upward, from before a stone was laid upon a stone in the temple of the Lord:</p>
<p id='37_02:016' data-selected='false'><strong>16.</strong> Since those days were, when one came to an heap of twenty measures, there were but ten: when one came to the pressfat for to draw out fifty vessels out of the press, there were but twenty.</p>
<p id='37_02:017' data-selected='false'><strong>17.</strong> I smote you with blasting and with mildew and with hail in all the labours of your hands; yet ye turned not to me, saith the Lord.</p>
<p id='37_02:018' data-selected='false'><strong>18.</strong> Consider now from this day and upward, from the four and twentieth day of the ninth month, even from the day that the foundation of the Lord’s temple was laid, consider it.</p>
<p id='37_02:019' data-selected='false'><strong>19.</strong> Is the seed yet in the barn? yea, as yet the vine, and the fig tree, and the pomegranate, and the olive tree, hath not brought forth: from this day will I bless you.</p>
<p id='37_02:020' data-selected='false'><strong>20.</strong> And again the word of the Lord came unto Haggai in the four and twentieth day of the month, saying,</p>
<p id='37_02:021' data-selected='false'><strong>21.</strong> Speak to Zerubbabel, governor of Judah, saying, I will shake the heavens and the earth;</p>
<p id='37_02:022' data-selected='false'><strong>22.</strong> And I will overthrow the throne of kingdoms, and I will destroy the strength of the kingdoms of the heathen; and I will overthrow the chariots, and those that ride in them; and the horses and their riders shall come down, every one by the sword of his brother.</p>
<p id='37_02:023' data-selected='false'><strong>23.</strong> In that day, saith the Lord of hosts, will I take thee, O Zerubbabel, my servant, the son of Shealtiel, saith the Lord, and will make thee as a signet: for I have chosen thee, saith the Lord of hosts.</p>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const stickyTitle = document.getElementById('sticky-title');
    const chapters = document.querySelectorAll('h2');
    const chapterInput = document.getElementById('chapterInput');
    const prevChapterButton = document.getElementById('prevChapter');
    const nextChapterButton = document.getElementById('nextChapter');
    const totalChapters = chapters.length;
    let currentChapterNum = 1;
    let lastSentChapter = '';
    window.addEventListener('scroll', () => {
        chapters.forEach((chapter, index) => {
            const rect = chapter.getBoundingClientRect();
            if (rect.top <= window.innerHeight / 2 && rect.bottom > 0) {
                currentChapterNum = index + 1;
            }
        });
        if (parseInt(chapterInput.value) !== currentChapterNum) {
            chapterInput.value = currentChapterNum;
        }
        const payload = `${bookId}_${currentChapterNum.toString().padStart(2, '0')}:001`;
        if (lastSentChapter !== payload) {
            lastSentChapter = payload;
            fetch('/mark', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ payload: payload, version: version })
            });
        }
    });
    const scrollToChapter = (chapterNum) => {
        const targetChapter = chapters[chapterNum - 1];
        if (targetChapter) {
            const headerOffset = 90;
            const elementPosition = targetChapter.getBoundingClientRect().top + window.scrollY;
            const offsetPosition = elementPosition - headerOffset;
            window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
        }
    };
    prevChapterButton.addEventListener('click', () => {
        let value = parseInt(chapterInput.value) || 1;
        if (value > 1) {
            value--;
            currentChapterNum = value;
            chapterInput.value = value;
            scrollToChapter(value);
        }
    });
    nextChapterButton.addEventListener('click', () => {
        let value = parseInt(chapterInput.value) || 1;
        if (value < totalChapters) {
            value++;
            currentChapterNum = value;
            chapterInput.value = value;
            scrollToChapter(value);
        }
    });
    chapterInput.addEventListener('change', () => {
        let value = parseInt(chapterInput.value) || 1;
        if (value >= 1 && value <= totalChapters) {
            currentChapterNum = value;
            scrollToChapter(value);
        } else {
            chapterInput.value = currentChapterNum;
        }
    });
    chapterInput.addEventListener('click', (event) => {
        event.target.select();
    });
    window.addEventListener('DOMContentLoaded', () => {
        const targetId = window.location.hash.substring(1); // Extract the fragment ID
        if (targetId) {
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
                // Prevent default browser hash scroll behavior
                setTimeout(() => {
                    const headerOffset = 90; // Adjust for sticky header
                    const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                    const offsetPosition = elementPosition - headerOffset;
                    window.scrollTo({ top: offsetPosition }); // Immediate scroll
                    targetElement.style.backgroundColor = '#ffff99'; // Apply highlight color
                    targetElement.style.transition = 'background-color 1s';
                    setTimeout(() => {
                        targetElement.style.backgroundColor = 'transparent'; // Fade out highlight
                    }, 3000); // Highlight fades after 3 seconds
                }, 50); // Short delay to ensure hash handling completes
            }
        }
    });
});
    const verses = document.querySelectorAll('p[data-selected]');
    verses.forEach(verse => {
        verse.addEventListener('click', (event) => {
            if (event.target.tagName === 'STRONG') {
                const isSelected = verse.getAttribute('data-selected') === 'true';
                verse.setAttribute('data-selected', isSelected ? 'false' : 'true');
                verse.style.backgroundColor = isSelected ? 'transparent' : '#D3F9D8';
            }
        });
    });
    const exitButton = document.querySelector('a[href="/exit"]');
    exitButton.addEventListener('click', (event) => {
        event.preventDefault(); // Prevent default navigation

        // Collect all selected verse IDs
        const selectedVerses = [];
        document.querySelectorAll('p[data-selected="true"]').forEach(verse => {
            selectedVerses.push(verse.id); // Collect the verse ID
        });

        // If no verses are selected, do nothing
        if (selectedVerses.length === 0) {
            console.log('No verses selected. Exiting without action.');
            return;
        }

        // Build and send the payload
        fetch('/exit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ selectedVerses: selectedVerses, version: version })
        })
        .then(response => {
            if (response.ok) {
                console.log('Selected verses sent successfully.');
            } else {
                console.error('Failed to send selected verses.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script>
</body>
</html>
