<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Haggai</title>
<link rel='stylesheet' href='../../style.css'>
<style>
body, p { margin: 0; padding: 0; line-height: 1.2; }
#sticky-title { position: sticky; top: 0; background-color: white; z-index:ible files1000; padding: 10px; border-bottom: 2px solid #ccc; font-size: 1.5em; text-align: center; display: flex; align-items: center; justify-content: center; gap: 10px; }
button { width: 40px; height: 40px; font-size: 20px; border: none; background-color: #007BFF; color: white; border-radius: 5px; }
input { width: 60px; text-align: center; font-size: 20px; border: 1px solid #ccc; border-radius: 5px; -moz-appearance: textfield; }
input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
</style>
</head>
<body>
<script>const bookId = '37';</script>
<script>const version = 'esv';</script>
<div id='sticky-title'><a href='/close' style='color: blue; text-decoration: none;'>&#8617;</a><span id='sticky-title-book'>Haggai</span><button id='prevChapter'>-</button><input id='chapterInput' type='number' value='1' min='1' max='2'><button id='nextChapter'>+</button><span style='flex-grow: 1;'>&nbsp;</span><a href='/exit' style='color: red; text-decoration: none;'>x</a></div>
<a href='./36_Zephaniah.html'>Prev: Zephaniah</a><br>
<a href='./38_Zechariah.html'>Next: Zechariah</a>
<h1>Haggai</h1>
<h2 id='chapter_1'>Chapter 1</h2>
<p id='37_01:001' data-selected='false'><strong>1.</strong> In the second year of Darius the king, in the sixth month, on the first day of the month, the word of the Lord came by the hand of Haggai the prophet to Zerubbabel the son of Shealtiel, governor of Judah, and to Joshua the son of Jehozadak, the high priest:</p>
<p id='37_01:002' data-selected='false'><strong>2.</strong> Thus says the Lord of hosts: These people say the time has not yet come to rebuild the house of the Lord.</p>
<p id='37_01:003' data-selected='false'><strong>3.</strong> Then the word of the Lord came by the hand of Haggai the prophet,</p>
<p id='37_01:004' data-selected='false'><strong>4.</strong> Is it a time for you yourselves to dwell in your paneled houses, while this house lies in ruins?</p>
<p id='37_01:005' data-selected='false'><strong>5.</strong> Now, therefore, thus says the Lord of hosts: Consider your ways.</p>
<p id='37_01:006' data-selected='false'><strong>6.</strong> You have sown much, and harvested little. You eat, but you never have enough; you drink, but you never have your fill. You clothe yourselves, but no one is warm. And he who earns wages does so to put them into a bag with holes.</p>
<p id='37_01:007' data-selected='false'><strong>7.</strong> Thus says the Lord of hosts: Consider your ways.</p>
<p id='37_01:008' data-selected='false'><strong>8.</strong> Go up to the hills and bring wood and build the house, that I may take pleasure in it and that I may be glorified, says the Lord.</p>
<p id='37_01:009' data-selected='false'><strong>9.</strong> You looked for much, and behold, it came to little. And when you brought it home, I blew it away. Why? declares the Lord of hosts. Because of my house that lies in ruins, while each of you busies himself with his own house.</p>
<p id='37_01:010' data-selected='false'><strong>10.</strong> Therefore the heavens above you have withheld the dew, and the earth has withheld its produce.</p>
<p id='37_01:011' data-selected='false'><strong>11.</strong> And I have called for a drought on the land and the hills, on the grain, the new wine, the oil, on what the ground brings forth, on man and beast, and on all their labors.</p>
<p id='37_01:012' data-selected='false'><strong>12.</strong> Then Zerubbabel the son of Shealtiel, and Joshua the son of Jehozadak, the high priest, with all the remnant of the people, obeyed the voice of the Lord their God, and the words of Haggai the prophet, as the Lord their God had sent him. And the people feared the Lord.</p>
<p id='37_01:013' data-selected='false'><strong>13.</strong> Then Haggai, the messenger of the Lord, spoke to the people with the Lord ’s message, I am with you, declares the Lord.</p>
<p id='37_01:014' data-selected='false'><strong>14.</strong> And the Lord stirred up the spirit of Zerubbabel the son of Shealtiel, governor of Judah, and the spirit of Joshua the son of Jehozadak, the high priest, and the spirit of all the remnant of the people. And they came and worked on the house of the Lord of hosts, their God,</p>
<p id='37_01:015' data-selected='false'><strong>15.</strong> on the twenty-fourth day of the month, in the sixth month, in the second year of Darius the king.</p>
<h2 id='chapter_2'>Chapter 2</h2>
<p id='37_02:001' data-selected='false'><strong>1.</strong> In the seventh month, on the twenty-first day of the month, the word of the Lord came by the hand of Haggai the prophet,</p>
<p id='37_02:002' data-selected='false'><strong>2.</strong> Speak now to Zerubbabel the son of Shealtiel, governor of Judah, and to Joshua the son of Jehozadak, the high priest, and to all the remnant of the people, and say,</p>
<p id='37_02:003' data-selected='false'><strong>3.</strong> Who is left among you who saw this house in its former glory? How do you see it now? Is it not as nothing in your eyes?</p>
<p id='37_02:004' data-selected='false'><strong>4.</strong> Yet now be strong, O Zerubbabel, declares the Lord. Be strong, O Joshua, son of Jehozadak, the high priest. Be strong, all you people of the land, declares the Lord. Work, for I am with you, declares the Lord of hosts,</p>
<p id='37_02:005' data-selected='false'><strong>5.</strong> according to the covenant that I made with you when you came out of Egypt. My Spirit remains in your midst. Fear not.</p>
<p id='37_02:006' data-selected='false'><strong>6.</strong> For thus says the Lord of hosts: Yet once more, in a little while, I will shake the heavens and the earth and the sea and the dry land.</p>
<p id='37_02:007' data-selected='false'><strong>7.</strong> And I will shake all nations, so that the treasures of all nations shall come in, and I will fill this house with glory, says the Lord of hosts.</p>
<p id='37_02:008' data-selected='false'><strong>8.</strong> The silver is mine, and the gold is mine, declares the Lord of hosts.</p>
<p id='37_02:009' data-selected='false'><strong>9.</strong> The latter glory of this house shall be greater than the former, says the Lord of hosts. And in this place I will give peace, declares the Lord of hosts.</p>
<p id='37_02:010' data-selected='false'><strong>10.</strong> On the twenty-fourth day of the ninth month, in the second year of Darius, the word of the Lord came by Haggai the prophet,</p>
<p id='37_02:011' data-selected='false'><strong>11.</strong> Thus says the Lord of hosts: Ask the priests about the law:</p>
<p id='37_02:012' data-selected='false'><strong>12.</strong> If someone carries holy meat in the fold of his garment and touches with his fold bread or stew or wine or oil or any kind of food, does it become holy? The priests answered and said, No.</p>
<p id='37_02:013' data-selected='false'><strong>13.</strong> Then Haggai said, If someone who is unclean by contact with a dead body touches any of these, does it become unclean? The priests answered and said, It does become unclean.</p>
<p id='37_02:014' data-selected='false'><strong>14.</strong> Then Haggai answered and said, So is it with this people, and with this nation before me, declares the Lord, and so with every work of their hands. And what they offer there is unclean.</p>
<p id='37_02:015' data-selected='false'><strong>15.</strong> Now then, consider from this day onward. Before stone was placed upon stone in the temple of the Lord,</p>
<p id='37_02:016' data-selected='false'><strong>16.</strong> how did you fare? When one came to a heap of twenty measures, there were but ten. When one came to the wine vat to draw fifty measures, there were but twenty.</p>
<p id='37_02:017' data-selected='false'><strong>17.</strong> I struck you and all the products of your toil with blight and with mildew and with hail, yet you did not turn to me, declares the Lord.</p>
<p id='37_02:018' data-selected='false'><strong>18.</strong> Consider from this day onward, from the twenty-fourth day of the ninth month. Since the day that the foundation of the Lord ’s temple was laid, consider:</p>
<p id='37_02:019' data-selected='false'><strong>19.</strong> Is the seed yet in the barn? Indeed, the vine, the fig tree, the pomegranate, and the olive tree have yielded nothing. But from this day on I will bless you.</p>
<p id='37_02:020' data-selected='false'><strong>20.</strong> The word of the Lord came a second time to Haggai on the twenty-fourth day of the month,</p>
<p id='37_02:021' data-selected='false'><strong>21.</strong> Speak to Zerubbabel, governor of Judah, saying, I am about to shake the heavens and the earth,</p>
<p id='37_02:022' data-selected='false'><strong>22.</strong> and to overthrow the throne of kingdoms. I am about to destroy the strength of the kingdoms of the nations, and overthrow the chariots and their riders. And the horses and their riders shall go down, every one by the sword of his brother.</p>
<p id='37_02:023' data-selected='false'><strong>23.</strong> On that day, declares the Lord of hosts, I will take you, O Zerubbabel my servant, the son of Shealtiel, declares the Lord, and make you like a signet ring, for I have chosen you, declares the Lord of hosts.</p>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const stickyTitle = document.getElementById('sticky-title');
    const chapters = document.querySelectorAll('h2');
    const chapterInput = document.getElementById('chapterInput');
    const prevChapterButton = document.getElementById('prevChapter');
    const nextChapterButton = document.getElementById('nextChapter');
    const totalChapters = chapters.length;
    let currentChapterNum = 1;
    let lastSentChapter = '';
    window.addEventListener('scroll', () => {
        chapters.forEach((chapter, index) => {
            const rect = chapter.getBoundingClientRect();
            if (rect.top <= window.innerHeight / 2 && rect.bottom > 0) {
                currentChapterNum = index + 1;
            }
        });
        if (parseInt(chapterInput.value) !== currentChapterNum) {
            chapterInput.value = currentChapterNum;
        }
        const payload = `${bookId}_${currentChapterNum.toString().padStart(2, '0')}:001`;
        if (lastSentChapter !== payload) {
            lastSentChapter = payload;
            fetch('/mark', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ payload: payload, version: version })
            });
        }
    });
    const scrollToChapter = (chapterNum) => {
        const targetChapter = chapters[chapterNum - 1];
        if (targetChapter) {
            const headerOffset = 90;
            const elementPosition = targetChapter.getBoundingClientRect().top + window.scrollY;
            const offsetPosition = elementPosition - headerOffset;
            window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
        }
    };
    prevChapterButton.addEventListener('click', () => {
        let value = parseInt(chapterInput.value) || 1;
        if (value > 1) {
            value--;
            currentChapterNum = value;
            chapterInput.value = value;
            scrollToChapter(value);
        }
    });
    nextChapterButton.addEventListener('click', () => {
        let value = parseInt(chapterInput.value) || 1;
        if (value < totalChapters) {
            value++;
            currentChapterNum = value;
            chapterInput.value = value;
            scrollToChapter(value);
        }
    });
    chapterInput.addEventListener('change', () => {
        let value = parseInt(chapterInput.value) || 1;
        if (value >= 1 && value <= totalChapters) {
            currentChapterNum = value;
            scrollToChapter(value);
        } else {
            chapterInput.value = currentChapterNum;
        }
    });
    chapterInput.addEventListener('click', (event) => {
        event.target.select();
    });
    window.addEventListener('DOMContentLoaded', () => {
        const targetId = window.location.hash.substring(1); // Extract the fragment ID
        if (targetId) {
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
                // Prevent default browser hash scroll behavior
                setTimeout(() => {
                    const headerOffset = 90; // Adjust for sticky header
                    const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                    const offsetPosition = elementPosition - headerOffset;
                    window.scrollTo({ top: offsetPosition }); // Immediate scroll
                    targetElement.style.backgroundColor = '#ffff99'; // Apply highlight color
                    targetElement.style.transition = 'background-color 1s';
                    setTimeout(() => {
                        targetElement.style.backgroundColor = 'transparent'; // Fade out highlight
                    }, 3000); // Highlight fades after 3 seconds
                }, 50); // Short delay to ensure hash handling completes
            }
        }
    });
});
    const verses = document.querySelectorAll('p[data-selected]');
    verses.forEach(verse => {
        verse.addEventListener('click', (event) => {
            if (event.target.tagName === 'STRONG') {
                const isSelected = verse.getAttribute('data-selected') === 'true';
                verse.setAttribute('data-selected', isSelected ? 'false' : 'true');
                verse.style.backgroundColor = isSelected ? 'transparent' : '#D3F9D8';
            }
        });
    });
    const exitButton = document.querySelector('a[href="/exit"]');
    exitButton.addEventListener('click', (event) => {
        event.preventDefault(); // Prevent default navigation

        // Collect all selected verse IDs
        const selectedVerses = [];
        document.querySelectorAll('p[data-selected="true"]').forEach(verse => {
            selectedVerses.push(verse.id); // Collect the verse ID
        });

        // If no verses are selected, do nothing
        if (selectedVerses.length === 0) {
            console.log('No verses selected. Exiting without action.');
            return;
        }

        // Build and send the payload
        fetch('/exit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ selectedVerses: selectedVerses, version: version })
        })
        .then(response => {
            if (response.ok) {
                console.log('Selected verses sent successfully.');
            } else {
                console.error('Failed to send selected verses.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script>
</body>
</html>
